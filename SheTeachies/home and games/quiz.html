<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Database Quiz Challenge</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .game-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            max-width: 800px;
            width: 90%;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .title {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .stat-item {
            background: rgba(255, 255, 255, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 10px;
            font-weight: bold;
            min-width: 120px;
            text-align: center;
        }

        .combo {
            transition: all 0.3s ease;
        }

        .combo.glow {
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            box-shadow: 0 0 20px rgba(255, 107, 107, 0.6);
            animation: pulse 0.5s ease-in-out;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .timer-container {
            text-align: center;
            margin-bottom: 2rem;
        }

        .timer {
            font-size: 3rem;
            font-weight: bold;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 100px;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            transition: all 0.3s ease;
        }

        .timer.warning {
            background: linear-gradient(45deg, #ff4757, #ff3838);
            animation: shake 0.5s ease-in-out infinite;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .question-container {
            margin-bottom: 2rem;
        }

        .question {
            font-size: 1.3rem;
            text-align: center;
            margin-bottom: 2rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            line-height: 1.6;
        }

        .answers {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .answer-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 1rem;
            border-radius: 15px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            min-height: 80px;
            display: flex;
            align-items: center;
        }

        .answer-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .answer-btn.correct {
            background: linear-gradient(45deg, #2ed573, #1e90ff);
            border-color: #2ed573;
            animation: correctPulse 0.6s ease-in-out;
        }

        .answer-btn.wrong {
            background: linear-gradient(45deg, #ff4757, #ff3838);
            border-color: #ff4757;
            animation: wrongShake 0.6s ease-in-out;
        }

        @keyframes correctPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes wrongShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .game-over {
            text-align: center;
            display: none;
        }

        .final-score {
            font-size: 3rem;
            margin: 1rem 0;
            color: #feca57;
        }

        .play-again-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            border: none;
            color: white;
            padding: 1rem 2rem;
            border-radius: 15px;
            font-size: 1.2rem;
            cursor: pointer;
            margin-top: 1rem;
            transition: all 0.3s ease;
        }

        .play-again-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        @media (max-width: 600px) {
            .answers {
                grid-template-columns: 1fr;
            }
            
            .stats {
                justify-content: center;
            }
            
            .title {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1 class="title">üóÑÔ∏è Database Quiz Challenge</h1>
        </div>

        <div class="game-area">
            <div class="stats">
                <div class="stat-item">Score: <span id="score">0</span></div>
                <div class="stat-item combo" id="combo-display">Combo: <span id="combo">0</span></div>
                <div class="stat-item">Question: <span id="question-num">1</span>/10</div>
                <div class="stat-item">Best: <span id="high-score">0</span></div>
            </div>

            <div class="timer-container">
                <div class="timer" id="timer">10</div>
            </div>

            <div class="question-container">
                <div class="question" id="question-text"></div>
                <div class="answers" id="answers-container"></div>
            </div>
        </div>

        <div class="game-over" id="game-over">
            <h2>üéâ Quiz Complete!</h2>
            <div class="final-score" id="final-score">0</div>
            <p id="score-message"></p>
            <button class="play-again-btn" onclick="startGame()">Play Again</button>
        </div>
    </div>

    <script>
        // Game state variables
        let currentQuestion = 0;
        let score = 0;
        let combo = 0;
        let timeLeft = 10;
        let timerInterval;
        let gameActive = false;
        let questionLock = false;

        // Audio context for sounds
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();

        // Quiz questions
        const questions = [
            {
                question: "What does SQL stand for?",
                answers: ["Structured Query Language", "Simple Query Language", "Standard Query Language", "System Query Language"],
                correct: 0
            },
            {
                question: "Which of the following is NOT a type of database relationship?",
                answers: ["One-to-One", "One-to-Many", "Many-to-Many", "All-to-All"],
                correct: 3
            },
            {
                question: "What is a primary key in a database?",
                answers: ["A key that opens the database", "A unique identifier for each record", "The first column in a table", "A password for database access"],
                correct: 1
            },
            {
                question: "Which SQL command is used to retrieve data from a database?",
                answers: ["GET", "FETCH", "SELECT", "RETRIEVE"],
                correct: 2
            },
            {
                question: "What does ACID stand for in database transactions?",
                answers: ["Atomicity, Consistency, Isolation, Durability", "Access, Control, Integration, Data", "Automatic, Consistent, Independent, Durable", "Advanced, Complete, Integrated, Database"],
                correct: 0
            },
            {
                question: "Which of the following is a NoSQL database?",
                answers: ["MySQL", "PostgreSQL", "MongoDB", "Oracle"],
                correct: 2
            },
            {
                question: "What is normalization in databases?",
                answers: ["Making data normal", "Organizing data to reduce redundancy", "Increasing database speed", "Creating backup copies"],
                correct: 1
            },
            {
                question: "Which SQL clause is used to filter records?",
                answers: ["FILTER", "WHERE", "HAVING", "CONDITION"],
                correct: 1
            },
            {
                question: "What is an index in a database?",
                answers: ["A table of contents", "A data structure that improves query speed", "The first row of a table", "A type of database"],
                correct: 1
            },
            {
                question: "Which command is used to add new records to a table?",
                answers: ["ADD", "INSERT", "CREATE", "APPEND"],
                correct: 1
            }
        ];

        // Sound generation functions
        function playSound(frequency, duration, type = 'sine') {
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
            oscillator.type = type;
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + duration);
        }

        function playCorrectSound() {
            playSound(523, 0.2); // C note
            setTimeout(() => playSound(659, 0.2), 100); // E note
            setTimeout(() => playSound(784, 0.3), 200); // G note
        }

        function playWrongSound() {
            playSound(200, 0.5, 'sawtooth');
        }

        function playAlarmSound() {
            playSound(800, 0.1);
            setTimeout(() => playSound(600, 0.1), 100);
        }

        // Initialize game
        function startGame() {
            currentQuestion = 0;
            score = 0;
            combo = 0;
            gameActive = true;
            questionLock = false;
            
            // Load high score
            const savedHighScore = localStorage.getItem('dbQuizHighScore') || 0;
            document.getElementById('high-score').textContent = savedHighScore;
            
            // Hide game over screen
            document.getElementById('game-over').style.display = 'none';
            document.querySelector('.game-area').style.display = 'block';
            
            updateDisplay();
            showQuestion();
        }

        function updateDisplay() {
            document.getElementById('score').textContent = score;
            document.getElementById('combo').textContent = combo;
            document.getElementById('question-num').textContent = currentQuestion + 1;
            
            // Update combo glow effect
            const comboDisplay = document.getElementById('combo-display');
            comboDisplay.classList.remove('glow');
            if (combo >= 3) {
                comboDisplay.classList.add('glow');
            }
        }

        function showQuestion() {
            if (currentQuestion >= questions.length) {
                endGame();
                return;
            }

            // Reset UI state
            const timer = document.getElementById('timer');
            timer.classList.remove('warning');
            
            // Clear any existing timer
            if (timerInterval) {
                clearInterval(timerInterval);
            }

            // Reset question lock and game state
            questionLock = false;
            gameActive = true;
            timeLeft = 10;

            const question = questions[currentQuestion];
            document.getElementById('question-text').textContent = question.question;

            // Create answer buttons
            const answersContainer = document.getElementById('answers-container');
            answersContainer.innerHTML = '';

            question.answers.forEach((answer, index) => {
                const button = document.createElement('button');
                button.className = 'answer-btn';
                button.textContent = `${String.fromCharCode(65 + index)}. ${answer}`;
                button.onclick = () => handleAnswer(index);
                answersContainer.appendChild(button);
            });

            // Start timer
            startTimer();
            updateDisplay();
        }

        function startTimer() {
            const timerElement = document.getElementById('timer');
            timerElement.textContent = timeLeft;

            timerInterval = setInterval(() => {
                timeLeft--;
                timerElement.textContent = timeLeft;

                if (timeLeft <= 3 && timeLeft > 0) {
                    timerElement.classList.add('warning');
                    playAlarmSound();
                }

                if (timeLeft <= 0) {
                    handleAnswer(-1); // Timeout
                }
            }, 1000);
        }

        function handleAnswer(selectedIndex) {
            // Prevent multiple executions
            if (!gameActive || questionLock) return;
            questionLock = true;

            // Clear timer
            clearInterval(timerInterval);
            gameActive = false;

            const question = questions[currentQuestion];
            const buttons = document.querySelectorAll('.answer-btn');
            
            // Remove any existing classes
            buttons.forEach(btn => {
                btn.classList.remove('correct', 'wrong');
            });

            let isCorrect = selectedIndex === question.correct;

            if (selectedIndex === -1) {
                // Timeout - treat as wrong
                isCorrect = false;
            }

            if (isCorrect) {
                // Correct answer
                if (selectedIndex >= 0) {
                    buttons[selectedIndex].classList.add('correct');
                }
                
                // Calculate score with time bonus
                const basePoints = 100;
                const timeBonus = timeLeft * 10;
                const comboBonus = combo >= 3 ? combo * 50 : 0;
                const totalPoints = basePoints + timeBonus + comboBonus;
                
                score += totalPoints;
                combo++;
                
                playCorrectSound();
            } else {
                // Wrong answer or timeout
                if (selectedIndex >= 0) {
                    buttons[selectedIndex].classList.add('wrong');
                }
                
                // Show correct answer
                buttons[question.correct].classList.add('correct');
                
                combo = 0;
                playWrongSound();
            }

            updateDisplay();

            // Move to next question after delay
            setTimeout(() => {
                currentQuestion++;
                if (currentQuestion < questions.length) {
                    showQuestion();
                } else {
                    endGame();
                }
            }, 2000);
        }

        function endGame() {
            document.querySelector('.game-area').style.display = 'none';
            document.getElementById('game-over').style.display = 'block';
            
            document.getElementById('final-score').textContent = score;
            
            // Check and save high score
            const currentHighScore = parseInt(localStorage.getItem('dbQuizHighScore') || 0);
            let message = '';
            
            if (score > currentHighScore) {
                localStorage.setItem('dbQuizHighScore', score);
                message = 'üéâ New High Score! Amazing work!';
            } else if (score >= currentHighScore * 0.8) {
                message = 'üî• Great job! You\'re getting close to your best!';
            } else {
                message = 'üí™ Good effort! Try again to beat your high score!';
            }
            
            document.getElementById('score-message').textContent = message;
        }

        // Start the game when page loads
        window.onload = () => {
            startGame();
        };
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'980eb29f16a3f004',t:'MTc1ODE3NjAxMC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>


